<html>
	<head>
		<meta charset="UTF-8">
		<title></title>
		<link rel="stylesheet" href="http://yui.yahooapis.com/pure/0.5.0/pure-min.css">
		<link rel="stylesheet" href="css/pikaday.css">
		<script src="scripts/moment.js"></script>
		<script src="scripts/pikaday.js"></script>

		<style type="text/css">
			.gradient-grey{
                background: #ffffff; /* Old browsers */
                background: -moz-linear-gradient(top,  #ffffff 0%, #e5e5e5 100%); /* FF3.6+ */
                background: -webkit-gradient(linear, left top, left bottom, color-stop(0%,#ffffff), color-stop(100%,#e5e5e5)); /* Chrome,Safari4+ */
                background: -webkit-linear-gradient(top,  #ffffff 0%,#e5e5e5 100%); /* Chrome10+,Safari5.1+ */
                background: -o-linear-gradient(top,  #ffffff 0%,#e5e5e5 100%); /* Opera 11.10+ */
                background: -ms-linear-gradient(top,  #ffffff 0%,#e5e5e5 100%); /* IE10+ */
                background: linear-gradient(to bottom,  #ffffff 0%,#e5e5e5 100%); /* W3C */
                filter: progid:DXImageTransform.Microsoft.gradient( startColorstr='#ffffff', endColorstr='#e5e5e5',GradientType=0 ); /* IE6-9 */
            }
            .dialog{
            	
            }
            .dialog .header{
            	height:30px;
            	background-color: #dddddd;
            	color:#aaaaaa;
            	font-size:24px;
            }
            .dialog .header .text{
            	color:#555555;
            	font-size:18px;
            	float:left;
            	line-height:30px;
            	margin-left:10px;
            }
            .dialog .header .close-button{
            	float:right;
            	height:100%;
            	line-height:30px;
            	width:30px;
            	text-align:center;
            	border-left:1px solid #aaaaaa;
            	cursor:pointer;
            }
            .dialog .header .close-button:hover{
            	color:#555555;
            }
            .dialog .content{
            	background-color:#ffffff;
            }
		</style>
	</head>
	<body>
		<div class="dialog" style="width:500px;" id="addSportman">
			<div class="header">
				<div class="text">Добавление пользователя</div>
				<div class="close-button">✖</div>
			</div>
			<div class="content">
				<form class="pure-form pure-form-aligned authority-form">
	                <fieldset>
	                    <div class="pure-control-group">
	                        <label >*Фамилия</label>
	                        <input type="text" placeholder="Фамилия" required>
	                    </div>
	                    <div class="pure-control-group">
	                        <label >*Имя</label>
	                        <input  type="text" placeholder="Имя" required>
	                    </div>
	                    <div class="pure-control-group">
	                        <label >*Отчество</label>
	                        <input  type="text" placeholder="Отчество" required>
	                    </div>
	                    <div class="pure-control-group">
	                        <label >*Дата рождения</label>
	                        <input  type="text" placeholder="Дата рождения" id="datepicker" required>                        
	                    </div>
	                    <div class="pure-control-group">
	                        <label >*Вес</label>
	                        <input type="text" placeholder="Вес" required>
	                    </div>
	                    <div class="pure-control-group">
	                        <label >*Пол</label>
	                        <select  placeholder="Пол">
	                        	<option value="true">Мужской</option>
	                        	<option value="false">Женский</option>
	                        </select>
	                    </div>
	                    <div class="pure-control-group">
	                        <label>*Разряд</label>
	                        <select placeholder="Пол">
	                        	<option value="1">1-й юношеский разряд</option>
	                        	<option value="2">2-й юношеский разряд</option>
	                        	<option value="3">3-й юношеский разряд</option>
	                        	<option value="4">1-й спортивный разряд</option>
	                        	<option value="5">2-й спортивный разряд</option>
	                        	<option value="6">3-й спортивный разряд</option>
	                        	<option value="7">КМС</option>
	                        	<option value="8">МС</option>
	                        	<option value="9">МСМК</option>
	                        	<option value="10">ЗМС</option>
	                        </select>
	                    </div>
	                    <div style="text-align: center;margin-top:20px;"><button type="button" class="pure-button pure-button-primary submit-button">Добавить</button></div>
	                </fieldset>
	            </form>
			</div>
			<script>
				var picker = new Pikaday({
			        field: document.getElementById('datepicker'),
			        format: 'DD.MM.YYYY'
		        });
		        if(window.MD===undefined)window.MD={};
		        window.MD.addSportman={};
		        {
		        	alias=window.MD.addSportman;
		        	alias.body=document.getElementById("addSportman");
		        	temp=alias.body.getElementsByTag("input");
		        	alias.fio={secondName:temp[0],name:temp[1],patronymic:temp[2]};
		        	alias.birthday=temp[3];
		        	alias.weigth=temp[4];
		        	temp=alias.body.getElementsByClassTagName("select");
		        	alias.gender=temp[0];
		        	alias.level=temp[1];
		        	document.getElementsByTagName("button")
		        	alias.callback=0;
		        	alias.close=function(){
		        		alias.clear();
		        		utility.modalStack.pop();
		        	}
		        	alias.clear=function(){
		        		alias.fio.secondName="";
		        		alias.fio.name="";
		        		alias.fio.patronymic="";
		        		alias.birthday="";
		        		alias.weight="";
		        		alias.gender.options[0].selected=true;
		        		alias.level.options[0].selected=true;
		        	}
		        	alias.check=function(){
		        		var res=true;
		        		if(alias.fio.secondName)res=false;
		        		if(alias.fio.name)res=false;
		        		if(alias.fio.patronymic)res=false;
		        		if(alias.birthday)res=false;
		        		if(alias.weight.secondName)res=false;
		        		return res;
		        	}
		        	alias.show=function(settings){
		        		this.clear();
		        		this.body.parent.removeChild(this.body);
		        		utility.modalStack.setContent(this.body,this.close);
		        		utility.modalStack.show();
		        		this.callback=settings.callback;
		        	}
		        	alias.submit=function(){
		        		if(alias.check()){
		        			var obj={
		        				name:alias.fio.name.text,
		        				secondName:alias.fio.secondName.text,
		        				patronymic:alias.fio.patronymic.text,
		        				birthday:alias.birthday.text,
		        				weight:alias.weight.text,
		        				gender:{key:alias.gender.options[alias.gender.selectedIndex].text,value:alias.gender.value},
		        				level:{key:alias.level.options[alias.level.selectedIndex].text,value:alias.level.value}
		        			}
		        			alias.callback(obj);
		        			return false;
		        		}
		        	}
		        }
			</script>
		</div>
	</body>
</html>